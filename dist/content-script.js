var te,x,Me,R,be,He,$e,Ie,ge,ae,le,V={},Fe=[],Qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ne=Array.isArray;function F(t,e){for(var n in e)t[n]=e[n];return t}function de(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Je(t,e,n){var r,o,s,i={};for(s in e)s=="key"?r=e[s]:s=="ref"?o=e[s]:i[s]=e[s];if(arguments.length>2&&(i.children=arguments.length>3?te.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)i[s]===void 0&&(i[s]=t.defaultProps[s]);return G(t,i,r,o,null)}function G(t,e,n,r,o){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Me,__i:-1,__u:0};return o==null&&x.vnode!=null&&x.vnode(s),s}function re(t){return t.children}function K(t,e){this.props=t,this.context=e}function W(t,e){if(e==null)return t.__?W(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?W(t):null}function Be(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Be(t)}}function ye(t){(!t.__d&&(t.__d=!0)&&R.push(t)&&!Y.__r++||be!=x.debounceRendering)&&((be=x.debounceRendering)||He)(Y)}function Y(){for(var t,e,n,r,o,s,i,c=1;R.length;)R.length>c&&R.sort($e),t=R.shift(),c=R.length,t.__d&&(n=void 0,r=void 0,o=(r=(e=t).__v).__e,s=[],i=[],e.__P&&((n=F({},r)).__v=r.__v+1,x.vnode&&x.vnode(n),fe(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,s,o??W(r),!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,De(s,n,i),r.__e=r.__=null,n.__e!=o&&Be(n)));Y.__r=0}function Re(t,e,n,r,o,s,i,c,m,l,u){var a,f,_,b,L,T,y,v=r&&r.__k||Fe,M=e.length;for(m=Xe(n,e,v,m,M),a=0;a<M;a++)(_=n.__k[a])!=null&&(f=_.__i==-1?V:v[_.__i]||V,_.__i=a,T=fe(t,_,f,o,s,i,c,m,l,u),b=_.__e,_.ref&&f.ref!=_.ref&&(f.ref&&pe(f.ref,null,_),u.push(_.ref,_.__c||b,_)),L==null&&b!=null&&(L=b),(y=!!(4&_.__u))||f.__k===_.__k?m=Ue(_,m,t,y):typeof _.type=="function"&&T!==void 0?m=T:b&&(m=b.nextSibling),_.__u&=-7);return n.__e=L,m}function Xe(t,e,n,r,o){var s,i,c,m,l,u=n.length,a=u,f=0;for(t.__k=new Array(o),s=0;s<o;s++)(i=e[s])!=null&&typeof i!="boolean"&&typeof i!="function"?(m=s+f,(i=t.__k[s]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?G(null,i,null,null,null):ne(i)?G(re,{children:i},null,null,null):i.constructor==null&&i.__b>0?G(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,c=null,(l=i.__i=Ye(i,n,m,a))!=-1&&(a--,(c=n[l])&&(c.__u|=2)),c==null||c.__v==null?(l==-1&&(o>u?f--:o<u&&f++),typeof i.type!="function"&&(i.__u|=4)):l!=m&&(l==m-1?f--:l==m+1?f++:(l>m?f--:f++,i.__u|=4))):t.__k[s]=null;if(a)for(s=0;s<u;s++)(c=n[s])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=W(c)),je(c,c));return r}function Ue(t,e,n,r){var o,s;if(typeof t.type=="function"){for(o=t.__k,s=0;o&&s<o.length;s++)o[s]&&(o[s].__=t,e=Ue(o[s],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=W(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ye(t,e,n,r){var o,s,i,c=t.key,m=t.type,l=e[n],u=l!=null&&(2&l.__u)==0;if(l===null&&t.key==null||u&&c==l.key&&m==l.type)return n;if(r>(u?1:0)){for(o=n-1,s=n+1;o>=0||s<e.length;)if((l=e[i=o>=0?o--:s++])!=null&&(2&l.__u)==0&&c==l.key&&m==l.type)return i}return-1}function ve(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Qe.test(e)?n:n+"px"}function Z(t,e,n,r,o){var s,i;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ve(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||ve(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Ie,"$1")),i=e.toLowerCase(),e=i in t||e=="onFocusOut"||e=="onFocusIn"?i.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=ge,t.addEventListener(e,s?le:ae,s)):t.removeEventListener(e,s?le:ae,s);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function xe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ge++;else if(e.t<n.u)return;return n(x.event?x.event(e):e)}}}function fe(t,e,n,r,o,s,i,c,m,l){var u,a,f,_,b,L,T,y,v,M,H,B,g,d,p,A,k,S=e.type;if(e.constructor!=null)return null;128&n.__u&&(m=!!(32&n.__u),s=[c=e.__e=n.__e]),(u=x.__b)&&u(e);e:if(typeof S=="function")try{if(y=e.props,v="prototype"in S&&S.prototype.render,M=(u=S.contextType)&&r[u.__c],H=u?M?M.props.value:u.__:r,n.__c?T=(a=e.__c=n.__c).__=a.__E:(v?e.__c=a=new S(y,H):(e.__c=a=new K(y,H),a.constructor=S,a.render=tt),M&&M.sub(a),a.props=y,a.state||(a.state={}),a.context=H,a.__n=r,f=a.__d=!0,a.__h=[],a._sb=[]),v&&a.__s==null&&(a.__s=a.state),v&&S.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=F({},a.__s)),F(a.__s,S.getDerivedStateFromProps(y,a.__s))),_=a.props,b=a.state,a.__v=e,f)v&&S.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),v&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(v&&S.getDerivedStateFromProps==null&&y!==_&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(y,H),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(y,a.__s,H)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(a.props=y,a.state=a.__s,a.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(C){C&&(C.__=e)}),B=0;B<a._sb.length;B++)a.__h.push(a._sb[B]);a._sb=[],a.__h.length&&i.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(y,a.__s,H),v&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(_,b,L)})}if(a.context=H,a.props=y,a.__P=t,a.__e=!1,g=x.__r,d=0,v){for(a.state=a.__s,a.__d=!1,g&&g(e),u=a.render(a.props,a.state,a.context),p=0;p<a._sb.length;p++)a.__h.push(a._sb[p]);a._sb=[]}else do a.__d=!1,g&&g(e),u=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++d<25);a.state=a.__s,a.getChildContext!=null&&(r=F(F({},r),a.getChildContext())),v&&!f&&a.getSnapshotBeforeUpdate!=null&&(L=a.getSnapshotBeforeUpdate(_,b)),A=u,u!=null&&u.type===re&&u.key==null&&(A=We(u.props.children)),c=Re(t,ne(A)?A:[A],e,n,r,o,s,i,c,m,l),a.base=e.__e,e.__u&=-161,a.__h.length&&i.push(a),T&&(a.__E=a.__=null)}catch(C){if(e.__v=null,m||s!=null)if(C.then){for(e.__u|=m?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else{for(k=s.length;k--;)de(s[k]);ce(e)}else e.__e=n.__e,e.__k=n.__k,C.then||ce(e);x.__e(C,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=et(n.__e,e,n,r,o,s,i,m,l);return(u=x.diffed)&&u(e),128&e.__u?void 0:c}function ce(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ce)}function De(t,e,n){for(var r=0;r<n.length;r++)pe(n[r],n[++r],n[++r]);x.__c&&x.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(s){s.call(o)})}catch(s){x.__e(s,o.__v)}})}function We(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ne(t)?t.map(We):F({},t)}function et(t,e,n,r,o,s,i,c,m){var l,u,a,f,_,b,L,T=n.props,y=e.props,v=e.type;if(v=="svg"?o="http://www.w3.org/2000/svg":v=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((_=s[l])&&"setAttribute"in _==!!v&&(v?_.localName==v:_.nodeType==3)){t=_,s[l]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(o,v,y.is&&y),c&&(x.__m&&x.__m(e,s),c=!1),s=null}if(v==null)T===y||c&&t.data==y||(t.data=y);else{if(s=s&&te.call(t.childNodes),T=n.props||V,!c&&s!=null)for(T={},l=0;l<t.attributes.length;l++)T[(_=t.attributes[l]).name]=_.value;for(l in T)if(_=T[l],l!="children"){if(l=="dangerouslySetInnerHTML")a=_;else if(!(l in y)){if(l=="value"&&"defaultValue"in y||l=="checked"&&"defaultChecked"in y)continue;Z(t,l,null,_,o)}}for(l in y)_=y[l],l=="children"?f=_:l=="dangerouslySetInnerHTML"?u=_:l=="value"?b=_:l=="checked"?L=_:c&&typeof _!="function"||T[l]===_||Z(t,l,_,T[l],o);if(u)c||a&&(u.__html==a.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(a&&(t.innerHTML=""),Re(e.type=="template"?t.content:t,ne(f)?f:[f],e,n,r,v=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,i,s?s[0]:n.__k&&W(n,0),c,m),s!=null)for(l=s.length;l--;)de(s[l]);c||(l="value",v=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[l]||v=="progress"&&!b||v=="option"&&b!=T[l])&&Z(t,l,b,T[l],o),l="checked",L!=null&&L!=t[l]&&Z(t,l,L,T[l],o))}return t}function pe(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){x.__e(o,n)}}function je(t,e,n){var r,o;if(x.unmount&&x.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||pe(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){x.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&je(r[o],e,n||typeof t.type!="function");n||de(t.__e),t.__c=t.__=t.__e=void 0}function tt(t,e,n){return this.constructor(t,n)}function Oe(t,e,n){var r,o,s,i;e==document&&(e=document.documentElement),x.__&&x.__(t,e),o=(r=!1)?null:e.__k,s=[],i=[],fe(e,t=e.__k=Je(re,null,[t]),o||V,V,e.namespaceURI,o?null:e.firstChild?te.call(e.childNodes):null,s,o?o.__e:e.firstChild,r,i),De(s,t,i)}te=Fe.slice,x={__e:function(t,e,n,r){for(var o,s,i;e=e.__;)if((o=e.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(t)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),i=o.__d),i)return o.__E=o}catch(c){t=c}throw t}},Me=0,K.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=F({},this.state),typeof t=="function"&&(t=t(F({},n),this.props)),t&&F(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ye(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ye(this))},K.prototype.render=re,R=[],He=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$e=function(t,e){return t.__v.__b-e.__v.__b},Y.__r=0,Ie=/(PointerCapture)$|Capture$/i,ge=0,ae=xe(!1),le=xe(!0);var nt=0;function q(t,e,n,r,o,s){e||(e={});var i,c,m=e;if("ref"in m)for(c in m={},e)c=="ref"?i=e[c]:m[c]=e[c];var l={type:t,props:m,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--nt,__i:-1,__u:0,__source:o,__self:s};if(typeof t=="function"&&(i=t.defaultProps))for(c in i)m[c]===void 0&&(m[c]=i[c]);return x.vnode&&x.vnode(l),l}var Q={exports:{}},rt=Q.exports,Se;function ot(){return Se||(Se=1,(function(t,e){(function(n,r){r(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:rt,function(n){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)n.exports=globalThis.browser;else{const r="The message port closed before a response was received.",o=s=>{const i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(d,p=void 0){super(p),this.createItem=d}get(d){return this.has(d)||this.set(d,this.createItem(d)),super.get(d)}}const m=g=>g&&typeof g=="object"&&typeof g.then=="function",l=(g,d)=>(...p)=>{s.runtime.lastError?g.reject(new Error(s.runtime.lastError.message)):d.singleCallbackArg||p.length<=1&&d.singleCallbackArg!==!1?g.resolve(p[0]):g.resolve(p)},u=g=>g==1?"argument":"arguments",a=(g,d)=>function(A,...k){if(k.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${u(d.minArgs)} for ${g}(), got ${k.length}`);if(k.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${u(d.maxArgs)} for ${g}(), got ${k.length}`);return new Promise((S,C)=>{if(d.fallbackToNoCallback)try{A[g](...k,l({resolve:S,reject:C},d))}catch(h){console.warn(`${g} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,h),A[g](...k),d.fallbackToNoCallback=!1,d.noCallback=!0,S()}else d.noCallback?(A[g](...k),S()):A[g](...k,l({resolve:S,reject:C},d))})},f=(g,d,p)=>new Proxy(d,{apply(A,k,S){return p.call(k,g,...S)}});let _=Function.call.bind(Object.prototype.hasOwnProperty);const b=(g,d={},p={})=>{let A=Object.create(null),k={has(C,h){return h in g||h in A},get(C,h,P){if(h in A)return A[h];if(!(h in g))return;let N=g[h];if(typeof N=="function")if(typeof d[h]=="function")N=f(g,g[h],d[h]);else if(_(p,h)){let U=a(h,p[h]);N=f(g,g[h],U)}else N=N.bind(g);else if(typeof N=="object"&&N!==null&&(_(d,h)||_(p,h)))N=b(N,d[h],p[h]);else if(_(p,"*"))N=b(N,d[h],p["*"]);else return Object.defineProperty(A,h,{configurable:!0,enumerable:!0,get(){return g[h]},set(U){g[h]=U}}),N;return A[h]=N,N},set(C,h,P,N){return h in A?A[h]=P:g[h]=P,!0},defineProperty(C,h,P){return Reflect.defineProperty(A,h,P)},deleteProperty(C,h){return Reflect.deleteProperty(A,h)}},S=Object.create(g);return new Proxy(S,k)},L=g=>({addListener(d,p,...A){d.addListener(g.get(p),...A)},hasListener(d,p){return d.hasListener(g.get(p))},removeListener(d,p){d.removeListener(g.get(p))}}),T=new c(g=>typeof g!="function"?g:function(p){const A=b(p,{},{getContent:{minArgs:0,maxArgs:0}});g(A)}),y=new c(g=>typeof g!="function"?g:function(p,A,k){let S=!1,C,h=new Promise(j=>{C=function($){S=!0,j($)}}),P;try{P=g(p,A,C)}catch(j){P=Promise.reject(j)}const N=P!==!0&&m(P);if(P!==!0&&!N&&!S)return!1;const U=j=>{j.then($=>{k($)},$=>{let se;$&&($ instanceof Error||typeof $.message=="string")?se=$.message:se="An unexpected error occurred",k({__mozWebExtensionPolyfillReject__:!0,message:se})}).catch($=>{console.error("Failed to send onMessage rejected reply",$)})};return U(N?P:h),!0}),v=({reject:g,resolve:d},p)=>{s.runtime.lastError?s.runtime.lastError.message===r?d():g(new Error(s.runtime.lastError.message)):p&&p.__mozWebExtensionPolyfillReject__?g(new Error(p.message)):d(p)},M=(g,d,p,...A)=>{if(A.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${u(d.minArgs)} for ${g}(), got ${A.length}`);if(A.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${u(d.maxArgs)} for ${g}(), got ${A.length}`);return new Promise((k,S)=>{const C=v.bind(null,{resolve:k,reject:S});A.push(C),p.sendMessage(...A)})},H={devtools:{network:{onRequestFinished:L(T)}},runtime:{onMessage:L(y),onMessageExternal:L(y),sendMessage:M.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:M.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},B={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return i.privacy={network:{"*":B},services:{"*":B},websites:{"*":B}},b(s,H,i)};n.exports=o(chrome)}})})(Q)),Q.exports}ot();var ee,w,ie,ke,me=0,ze=[],E=x,we=E.__b,Te=E.__r,Ee=E.diffed,Ce=E.__c,qe=E.unmount,Ne=E.__;function Ve(t,e){E.__h&&E.__h(w,t,me||e),me=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function z(t){return me=1,st(Ze,t)}function st(t,e,n){var r=Ve(ee++,2);if(r.t=t,!r.__c&&(r.__=[Ze(void 0,e),function(c){var m=r.__N?r.__N[0]:r.__[0],l=r.t(m,c);m!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=w,!w.__f)){var o=function(c,m,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,c,m,l);var a=r.__c.props!==c;return u.forEach(function(f){if(f.__N){var _=f.__[0];f.__=f.__N,f.__N=void 0,_!==f.__[0]&&(a=!0)}}),s&&s.call(this,c,m,l)||a};w.__f=!0;var s=w.shouldComponentUpdate,i=w.componentWillUpdate;w.componentWillUpdate=function(c,m,l){if(this.__e){var u=s;s=void 0,o(c,m,l),s=u}i&&i.call(this,c,m,l)},w.shouldComponentUpdate=o}return r.__N||r.__}function oe(t,e){var n=Ve(ee++,3);!E.__s&&lt(n.__H,e)&&(n.__=t,n.u=e,w.__H.__h.push(n))}function it(){for(var t;t=ze.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(J),t.__H.__h.forEach(ue),t.__H.__h=[]}catch(e){t.__H.__h=[],E.__e(e,t.__v)}}E.__b=function(t){w=null,we&&we(t)},E.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ne&&Ne(t,e)},E.__r=function(t){Te&&Te(t),ee=0;var e=(w=t.__c).__H;e&&(ie===w?(e.__h=[],w.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(J),e.__h.forEach(ue),e.__h=[],ee=0)),ie=w},E.diffed=function(t){Ee&&Ee(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ze.push(e)!==1&&ke===E.requestAnimationFrame||((ke=E.requestAnimationFrame)||at)(it)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ie=w=null},E.__c=function(t,e){e.some(function(n){try{n.__h.forEach(J),n.__h=n.__h.filter(function(r){return!r.__||ue(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],E.__e(r,n.__v)}}),Ce&&Ce(t,e)},E.unmount=function(t){qe&&qe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{J(r)}catch(o){e=o}}),n.__H=void 0,e&&E.__e(e,n.__v))};var Le=typeof requestAnimationFrame=="function";function at(t){var e,n=function(){clearTimeout(r),Le&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);Le&&(e=requestAnimationFrame(n))}function J(t){var e=w,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),w=e}function ue(t){var e=w;t.__c=t.__(),w=e}function lt(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Ze(t,e){return typeof e=="function"?e(t):e}let D;function Ge(t){document.documentElement.setAttribute("theme",t.matches?"dark":"light")}function Ke(){window.matchMedia&&(D||(D=window.matchMedia("(prefers-color-scheme: dark)")),document.documentElement.setAttribute("theme",D.matches?"dark":"light"),D.addEventListener("change",Ge))}function ct(){D&&D.removeEventListener("change",Ge)}function mt(){const e=localStorage.getItem("theme")||"auto";e==="auto"?Ke():document.documentElement.setAttribute("theme",e)}function ut(){const[t,e]=z(()=>localStorage.getItem("theme")||"auto");return oe(()=>{localStorage.setItem("theme",t),t==="auto"?Ke():(ct(),document.documentElement.setAttribute("theme",t))},[t]),{theme:t,cycleTheme:()=>{e(r=>r==="auto"?"light":r==="light"?"dark":"auto")}}}function _t(){const{theme:t,cycleTheme:e}=ut();return q("a",{href:"#",onClick:o=>{o.preventDefault(),e()},children:[q("span",{className:"material-icons",children:"brightness_6"}),"Тема: ",{auto:"Системная",light:"Светлая",dark:"Темная"}[t]]})}function gt(){const t=document.querySelector("div.span3");t&&(dt(t),ft(),pt(t),ht())}function dt(t){const e=sessionStorage.getItem("sidebar-scroll");e&&(t.scrollTop=parseInt(e,10)),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("sidebar-scroll",Math.round(t.scrollTop).toString())})}function ft(){const t=document.querySelectorAll(".nav.nav-tabs.nav-stacked > li");for(const e of t){const n=e.querySelector("a");if(n&&n.href===window.location.href){e.classList.add("active");break}}}function pt(t){const e=t.querySelector("ul:nth-last-child(1)");if(!e)return;const n=document.createElement("li");e.prepend(n),Oe(q(_t,{}),n),e.querySelectorAll("li > a").forEach(o=>{if(!(o.parentElement instanceof HTMLLIElement)||o.parentElement===n)return;const i=document.createElement("span");switch(i.className="material-icons",o.getAttribute("href")){case"stu.change_pass_form":i.innerHTML="vpn_key";break;case"stu_email_pkg.change_email":i.innerHTML="alternate_email";break;case"stu.change_pr_page":i.innerHTML="account_box";break;case"stu.logout":i.innerHTML="exit_to_app";break}i.innerHTML&&o.prepend(i)})}function ht(){document.querySelectorAll(".nav.nav-tabs.nav-stacked > li").forEach(e=>{const n=e.querySelector("a");if(n){const r=n.getAttribute("href");if(r==="stu_plus.add_snils"||r==="ebl_stu.ebl_choice"||e.classList.contains("warn_menu")){const o=document.createElement("span");o.className="badge-point",n.appendChild(o)}}})}function At(t){const[e,n]=z(!1);return oe(()=>{const r=window.matchMedia(t),o=()=>{n(r.matches)};return o(),r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[t]),e}function bt(t){return{"stu.change_pass_form":"vpn_key","stu_email_pkg.change_email":"alternate_email","stu.change_pr_page":"account_box","stu.logout":"exit_to_app","stu.teach_plan":"school","stu.signs":"assessment","stu.timetable":"today","stu.announce":"campaign","stu.teachers":"people","stu.library":"local_library","stu.orders":"description","cert_pkg.stu_certif":"receipt_long","stu.sc_portfolio":"folder_shared"}[t.split("?")[0]]}function yt(){const t=document.querySelector("div.span3");if(!t)return[];const e=[];return t.querySelectorAll("ul.nav > li > a").forEach(r=>{const o=r.querySelector(".material-icons");if(o instanceof HTMLElement&&o.innerText==="brightness_6")return;const s=r.getAttribute("href");s&&e.push({href:s,icon:bt(s),text:r.innerText.trim(),rawHtml:r.children.length>0?r.innerHTML:void 0,hasIndicator:!!r.querySelector(".badge-point")})}),e}function vt(){const[t,e]=z(!1),[n,r]=z(""),[o,s]=z([]);oe(()=>{const u=window.location.pathname.split("/").pop()||"";r(u),s(yt())},[]);const i=()=>e(!t),c=["stu.timetable","stu.signs","stu.announce"],m=[{href:"stu.timetable",icon:"today",text:"Расписание"},{href:"stu.signs",icon:"assessment",text:"Оценки"},{href:"stu.announce",icon:"campaign",text:"Объявления"}],l=o.filter(u=>!c.includes(u.href.split("?")[0]));return q("div",{className:"mobile-nav-container",children:[q("nav",{className:"mobile-nav",children:[m.map(u=>q("a",{href:u.href,className:`mobile-nav-button ${n.split("?")[0]===u.href?"active":""}`,children:[q("span",{className:"material-icons",children:u.icon}),u.text]},u.href)),q("button",{className:"mobile-nav-button",onClick:i,"aria-label":"Открыть больше опций",children:[q("span",{className:"material-icons",children:"menu"}),"Еще"]})]}),q("div",{className:`bottom-sheet-overlay ${t?"visible":""}`,onClick:i}),q("div",{className:`bottom-sheet ${t?"visible":""}`,children:[q("div",{className:"bottom-sheet-handle"}),q("div",{className:"bottom-sheet-links",children:l.map(u=>q("a",{href:u.href,children:[u.icon&&q("span",{className:"material-icons",children:u.icon}),u.rawHtml?q("span",{dangerouslySetInnerHTML:{__html:u.rawHtml}}):q("span",{children:u.text})]},u.href))})]})]})}function xt(){document.querySelectorAll(".nav.msg").forEach(e=>{e.classList.add("message");const n=document.createElement("li");n.className="message-header",e.prepend(n);const r=e.querySelector('font[style="font-weight:bold"]'),o=e.querySelector('font[color="#808080"]');o&&(o.innerText=o.innerText.substring(0,o.innerText.length-3)),r?n.appendChild(r):n.appendChild(document.createElement("font")),o&&n.appendChild(o);const s=e.querySelectorAll("li > br");s.length>=2&&(s[0].remove(),s[1].remove())})}function St(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on certificates page.");return}const e=t.querySelector('span[style*="color:#00b050"]');e&&(e.className="certificates-info"),t.querySelectorAll(".ord-name").forEach(o=>{const s=o.querySelector("img");if(s){const i=document.createElement("a");i.className="icon-button2",i.innerText="description";const c=s.getAttribute("onclick");c&&i.setAttribute("onclick",c),i.title=s.title,s.remove(),o.prepend(i),o.classList.add("flex-row")}}),t.querySelectorAll('font[color="blue"]').forEach(o=>{const s=t.querySelector('img[src="/etis/pic/text-2.png"]');if(s){const i=document.createElement("a");i.className="icon-button2",i.innerText="description";const c=s.getAttribute("onclick");c&&i.setAttribute("onclick",c),i.title=s.title,s.remove(),o.append(i),o.classList.add("flex-row")}})}function kt(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on change email page.");return}const e=t.querySelector(".form"),n=t.querySelector("div:not(.form)"),r=t.querySelector("h3");if(!e||!n)return;n.className="form-info";const o=document.createElement("div");o.className="items";const s=e.querySelector("label"),i=e.querySelector("#email");if(!i||!s){console.error("ETIS 2.1: Email input or label not found on change email page.");return}i.placeholder=" ";const c=document.createElement("div");c.className="item",c.appendChild(i),c.appendChild(s),o.appendChild(c),e.innerHTML="",r&&e.appendChild(r),e.appendChild(n),e.appendChild(o)}function wt(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on change password page.");return}const e=t.querySelector(".form");if(!e)return;const n=document.createElement("div");n.className="items";const r=Array.from(e.querySelectorAll("label")),o=Array.from(e.querySelectorAll("input"));if(r.length===0||r.length!==o.length){console.error("ETIS 2.1: Mismatch between labels and inputs on change password page, aborting modification.");return}o.forEach((i,c)=>{i.placeholder=" ";const m=r[c],l=document.createElement("div");l.className="item",l.appendChild(i),l.appendChild(m),n.appendChild(l)});const s=t.querySelector("h3");e.innerHTML="",s&&e.appendChild(s),e.appendChild(n)}function Tt(){if(!document.querySelector("#form"))return;const e=window.location.pathname.split("/").pop()||"";document.querySelector(".login-container")||(document.body.innerHTML=`<div class="login-container">${document.body.innerHTML}</div>`);const n=document.querySelector(".login-container"),r=n?.querySelector("#form"),o=r?.querySelector(".items");if(!n||!r||!o){console.error("ETIS 2.1: Failed to find login elements after wrapping body.");return}const s=document.createElement("div");if(s.className="login-actions",o.appendChild(s),e!=="stu_email_pkg.send_r_email"){if(document.querySelector("div.choose")?.remove(),!r.querySelector(".psu-logo")){const l=document.createElement("div");l.className="psu-logo",r.prepend(l)}const m=o.querySelector("a");m&&(m.className="forgot-password",s.appendChild(m))}const i=document.getElementById("sbmt");if(i&&s.appendChild(i),o.querySelectorAll("div.item").forEach(m=>{const l=m.querySelector("div.error_message");l&&(n.prepend(l),m.remove());const u=m.querySelector("input");u&&(u.placeholder=" ");const a=m.querySelector("label");a&&m.appendChild(a)}),e!=="stu_email_pkg.send_r_email"){const m=o.textContent?.split(`
`).slice(-3)[0].trim()||"",l=document.querySelector("div.header_message");l&&(l.className="footer",l.innerHTML=`<p>${l.innerHTML}</p><p>${m}</p>`,n.appendChild(l))}}function Et(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on portfolio page.");return}const e=t.querySelectorAll('img[name="load_doc"]');e.length!==0&&e.forEach(n=>{const r=document.createElement("a");r.className="icon-button2",r.innerText="attach_file",O(n,r,"name"),O(n,r,"data-tab"),O(n,r,"data-term"),O(n,r,"data-ttp"),O(n,r,"data-dis");const o=n.getAttribute("onclick");o&&r.setAttribute("onclick",o),n.parentElement?.insertBefore(r,n),n.remove()})}function O(t,e,n){const r=t.getAttribute(n);r!==null&&e.setAttribute(n,r)}const he=document.createElement("div");he.className="sign-tooltip";const X=Ct(),I=document.createElement("div");I.className="sign-tooltip-wrapper";I.append(he,X);let _e=null;function Ct(){const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttributeNS(null,"width","15"),e.setAttributeNS(null,"height","9"),e.setAttributeNS(null,"viewBox","0 0 15 9"),e.setAttributeNS(null,"fill","none"),e.classList.add("sign-tooltip-triangle");const n=document.createElementNS(t,"path");return n.setAttributeNS(null,"d","M6.79289 7.79289L0.707107 1.70711C0.0771419 1.07714 0.523308 0 1.41421 0H13.5858C14.4767 0 14.9229 1.07714 14.2929 1.70711L8.20711 7.79289C7.81658 8.18342 7.18342 8.18342 6.79289 7.79289Z"),n.classList.add("tooltipTriangle"),e.appendChild(n),e}function qt(t){const e=t.currentTarget;if(_e===e)return;_e=e;const r=e.querySelector("a")?.dataset.tooltip;if(!r)return;he.innerText=r;const o=document.documentElement.getAttribute("theme"),s=X.querySelector(".tooltipTriangle");s&&s.setAttributeNS(null,"fill",o==="dark"?"#333333":"#F6F6F6"),document.body.appendChild(I);const i=e.getBoundingClientRect(),c=I.offsetWidth,m=I.offsetHeight,l=i.left+i.width/2-c/2;let u=i.top-m;u<0?(u=i.top+e.offsetHeight,X.style.transform="scale(1, -1)",I.style.flexDirection="column-reverse"):(X.style.transform="scale(1, 1)",I.style.flexDirection="column"),I.style.left=`${l}px`,I.style.top=`${u}px`}function Pe(){_e=null,I.remove()}function Nt(){if(new URLSearchParams(window.location.search).get("p_mode")!=="current")return;const e=document.querySelectorAll("table.common");e.length!==0&&(e.forEach(n=>{n.querySelectorAll("a").forEach((o,s)=>{if(!o.href||!o.href.includes("stu.theme"))return;o.dataset.tooltip=o.innerText,o.innerHTML=`КТ ${s+1}`;const i=o.parentElement;i&&(i.addEventListener("mouseover",qt),i.addEventListener("mouseout",Pe))})}),document.addEventListener("wheel",Pe,{passive:!0}))}function Lt(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on teach plan page.");return}const n=new URLSearchParams(window.location.search).get("p_mode"),r=window.location.pathname.split("/").pop()||"";r==="stu.teach_plan"?Pt(t,n):r==="stu.tpr"&&Mt(t)}function Pt(t,e){switch(e){case"advanced":const n=t.querySelector("a:nth-child(2)");n&&(n.className="icon-button icon-feedback",n.innerText="Оставить отзыв");break;case"short":case null:const r=t.querySelector("div:nth-child(2)");r&&(r.className="teach-plan");const o=t.querySelector("div.teach-plan > div > a");o&&(o.className="icon-button icon-feedback",o.innerText="Оставить отзыв");break}}function Mt(t){const e=t.querySelector("a");e&&(e.className="icon-button icon-feedback",e.innerText="Оставить отзыв")}function Ht(){const t=document.querySelector(".weeks");t&&t.classList.add("message-pages"),document.querySelectorAll(".nav.msg").forEach(n=>{if(n.classList.add("message"),n.className.match(/repl_s/))return;const r=document.createElement("li");r.className="message-header",n.insertBefore(r,n.children[0]);const o=n.querySelector("b"),s=n.querySelector('font[style="font-weight:bold"]'),i=n.querySelector('font[color="#808080"]');i&&(i.innerText=i.innerText.substring(0,i.innerText.length-3));const c=n.querySelector('font[title="Показать все сообщения по этой дисциплине"]'),m=document.createElement("div");m.classList.add("message-info","main-info");const l=document.createElement("div");l.classList.add("message-info","secondary-info"),o&&m.appendChild(o),s&&m.appendChild(s),i&&l.appendChild(i),c&&l.appendChild(c),r.append(m,l);const u=n.querySelectorAll("li > br");[...u].slice(0,3).forEach(_=>_.remove()),[...u].slice(-2).forEach(_=>_.remove());const a=n.querySelectorAll("li")[1];a&&(a.innerHTML=a.innerHTML.substring(18));const f=n.querySelector('input[type="button"]');if(f){const _=document.createElement("li");_.className="answer-wrapper";const b=document.createElement("button");b.id=f.id,b.setAttribute("onclick",f.getAttribute("onclick")||""),b.innerText="Добавить ответ",b.addEventListener("click",()=>{b.remove(),_.remove()}),f.remove(),_.appendChild(b),n.appendChild(_)}})}function $t(){const t=document.querySelector("div.span9");if(!t)return;const e=t.querySelector("a");e&&(e.className="icon-button icon-analytics"),t.querySelectorAll(".teacher_desc").forEach(r=>{const o=r.querySelector(".teacher_name"),s=o?.querySelector("img");if(o&&s){const m=document.createElement("a");m.className="icon-button2",m.innerText="today",m.setAttribute("onclick",s.getAttribute("onclick")||""),m.title=s.title,s.remove(),o.appendChild(m)}const i=r.querySelector(".chair"),c=i?.querySelector("img");if(i&&c){const m=document.createElement("a");m.className="icon-button2",m.innerText="today",m.setAttribute("onclick",c.getAttribute("onclick")||""),m.title=c.title,c.remove(),i.appendChild(m)}})}function It(){const t=document.querySelector("div.span9");if(!t){console.error("ETIS 2.1: Main content container (.span9) not found on timetable page.");return}const e=document.createElement("div");e.className="timetable-buttonbar",t.prepend(e);const n=t.querySelector("div.consultations");if(n)n.classList.add("timetable-btn"),e.appendChild(n);else{const i=t.querySelector("div:nth-child(6)");i&&(i.className="timetable-btn consultations",e.appendChild(i))}const r=t.querySelector("a.estimate_tt");r&&(r.className="timetable-btn icon-button icon-feedback",r.innerText="Оставить отзыв",e.appendChild(r));const o=t.querySelector('a[href*="p_what=1"]');o&&(o.className="timetable-btn icon-button icon-today",e.appendChild(o)),t.querySelectorAll("div.day > table > tbody > tr").forEach(i=>{const c=i.querySelector("span.teacher");if(c){const m=document.createElement("td");m.className="pair_teacher",m.innerHTML=c.innerHTML,i.appendChild(m),i.querySelector("td.pair_jour")?.remove(),c.remove()}})}function Ft(){if(document.querySelector('meta[name="viewport"]'))return;const t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0",document.head.appendChild(t),console.log("ETIS 2.1: Viewport meta tag injected.")}function Bt(){const t=At("(max-width: 768px)");return oe(()=>{console.log("ETIS 2.1 App: Applying modifications..."),Ft(),mt();const e=window.location.pathname.split("/").pop()||"",n=document.querySelector("div.span9"),r=document.querySelector("body > div.login");if(n)switch(gt(),e){case"stu.timetable":It();break;case"stu.teachers":$t();break;case"stu.announce":xt();break;case"stu.teacher_notes":Ht();break;case"stu.teach_plan":Lt();break;case"stu.sc_portfolio":Et();break;case"stu.change_pass_form":case"stu.change_pass":wt();break;case"stu_email_pkg.change_email":kt();break;case"cert_pkg.stu_certif":St();break;case"stu.signs":Nt();break}else r&&Tt()},[]),t?q(vt,{}):null}console.log("ЕТИС 2.1 Content Script Initialized!");const Ae=document.createElement("div");Ae.id="etis-2-1-root";document.body.appendChild(Ae);Oe(q(Bt,{}),Ae);
